!function(E,_){"object"==typeof exports&&"undefined"!=typeof module?_(exports,require("@clappr/core")):"function"==typeof define&&define.amd?define(["exports","@clappr/core"],_):_((E="undefined"!=typeof globalThis?globalThis:E||self).TVsKeyMappingPlugin={},E.Clappr)}(this,(function(E,_){"use strict";function O(E,_){for(var O=0;O<_.length;O++){var C=_[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}function C(E){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(E)}function D(E,_){return(D=Object.setPrototypeOf||function(E,_){return E.__proto__=_,E})(E,_)}function K(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function Y(E,_){return!_||"object"!=typeof _&&"function"!=typeof _?K(E):_}function e(E){var _=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(E){return!1}}();return function(){var O,D=C(E);if(_){var K=C(this).constructor;O=Reflect.construct(D,arguments,K)}else O=D.apply(this,arguments);return Y(this,O)}}function t(E,_,O){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(E,_,O){var D=function(E,_){for(;!Object.prototype.hasOwnProperty.call(E,_)&&null!==(E=C(E)););return E}(E,_);if(D){var K=Object.getOwnPropertyDescriptor(D,_);return K.get?K.get.call(O):K.value}})(E,_,O||E)}var n={KEY_CODE_ENTER:"ENTER",KEY_CODE_LEFT:"LEFT",KEY_CODE_UP:"UP",KEY_CODE_RIGHT:"RIGHT",KEY_CODE_DOWN:"DOWN",KEY_CODE_SPACE:"SPACE",KEY_CODE_BACK_SPACE:"BACK_SPACE",KEY_CODE_BREAK:"BREAK",KEY_CODE_TAB:"TAB",KEY_CODE_CLEAR:"CLEAR",KEY_CODE_SHIFT:"SHIFT",KEY_CODE_CTRL:"CTRL",KEY_CODE_ALT:"ALT",KEY_CODE_CAPS_LOCK:"CAPS_LOCK",KEY_CODE_ESCAPE:"ESCAPE",KEY_CODE_SPACE_BAR:"SPACE_BAR",KEY_CODE_GUIDE:"GUIDE",KEY_CODE_0:"0",KEY_CODE_1:"1",KEY_CODE_2:"2",KEY_CODE_3:"3",KEY_CODE_4:"4",KEY_CODE_5:"5",KEY_CODE_6:"6",KEY_CODE_7:"7",KEY_CODE_8:"8",KEY_CODE_9:"9",KEY_CODE_A:"A",KEY_CODE_B:"B",KEY_CODE_C:"C",KEY_CODE_D:"D",KEY_CODE_E:"E",KEY_CODE_F:"F",KEY_CODE_G:"G",KEY_CODE_H:"H",KEY_CODE_I:"I",KEY_CODE_J:"J",KEY_CODE_K:"K",KEY_CODE_L:"L",KEY_CODE_M:"M",KEY_CODE_N:"N",KEY_CODE_O:"O",KEY_CODE_P:"P",KEY_CODE_Q:"Q",KEY_CODE_R:"R",KEY_CODE_S:"S",KEY_CODE_T:"T",KEY_CODE_U:"U",KEY_CODE_V:"V",KEY_CODE_W:"W",KEY_CODE_X:"X",KEY_CODE_Y:"Y",KEY_CODE_Z:"Z",KEY_CODE_RED:"RED",KEY_CODE_GREEN:"GREEN",KEY_CODE_YELLOW:"YELLOW",KEY_CODE_BLUE:"BLUE",KEY_CODE_HELP:"HELP",KEY_CODE_SEARCH:"SEARCH",KEY_CODE_AUDIODESCRIPTION:"AUDIODESCRIPTION",KEY_CODE_HD:"HD",KEY_CODE_RECORD:"RECORD",KEY_CODE_MINUS:"MINUS",KEY_CODE_MENU:"MENU",KEY_CODE_TOOLS:"TOOLS",KEY_CODE_SOURCE:"SOURCE",KEY_CODE_E_MANUAL:"E_MANUAL",KEY_CODE_3D:"3D",KEY_CODE_EXTRA:"EXTRA",KEY_CODE_PICTURE_SIZE:"PICTURE_SIZE",KEY_CODE_SOCCER:"SOCCER",KEY_CODE_TELE_TEXT:"TELE_TEXT",KEY_CODE_MTS:"MTS",KEY_CODE_PLAY:"PLAY",KEY_CODE_PAUSE:"PAUSE",KEY_CODE_PLAY_PAUSE:"PLAY_PAUSE",KEY_CODE_STOP:"STOP",KEY_CODE_PREV:"PREV",KEY_CODE_NEXT:"NEXT",KEY_CODE_FAST_FWD:"FAST_FWD",KEY_CODE_REWIND:"REWIND",KEY_CODE_INFO:"INFO",KEY_CODE_SUBTITLE:"SUBTITLE",KEY_CODE_BACK:"BACK",KEY_CODE_EXIT:"EXIT",KEY_CODE_VOLUME_UP:"VOLUME_UP",KEY_CODE_CHANNEL_DOWN:"CHANNEL_DOWN",KEY_CODE_CHANNEL_UP:"CHANNEL_UP",KEY_CODE_VOLUME_DOWN:"VOLUME_DOWN",KEY_CODE_MUTE:"MUTE",KEY_CODE_CHANNEL_LIST:"CHANNEL_LIST",KEY_CODE_PREV_CHANNEL:"PREV_CHANNEL"};n.KEY_CODE_CHANNEL_LIST="CHANNEL_LIST";var o={browser:{3:n.KEY_CODE_BREAK,8:n.KEY_CODE_BACK,9:n.KEY_CODE_TAB,12:n.KEY_CODE_CLEAR,13:n.KEY_CODE_ENTER,16:n.KEY_CODE_SHIFT,17:n.KEY_CODE_CTRL,18:n.KEY_CODE_ALT,19:n.KEY_CODE_PAUSE,20:n.KEY_CODE_CAPS_LOCK,27:n.KEY_CODE_ESCAPE,32:n.KEY_CODE_SPACE_BAR,37:n.KEY_CODE_LEFT,38:n.KEY_CODE_UP,39:n.KEY_CODE_RIGHT,40:n.KEY_CODE_DOWN,48:n.KEY_CODE_0,49:n.KEY_CODE_1,50:n.KEY_CODE_2,51:n.KEY_CODE_3,52:n.KEY_CODE_4,53:n.KEY_CODE_5,54:n.KEY_CODE_6,55:n.KEY_CODE_7,56:n.KEY_CODE_8,57:n.KEY_CODE_9,65:n.KEY_CODE_A,66:n.KEY_CODE_B,67:n.KEY_CODE_C,68:n.KEY_CODE_D,69:n.KEY_CODE_E,70:n.KEY_CODE_F,71:n.KEY_CODE_G,72:n.KEY_CODE_H,73:n.KEY_CODE_I,74:n.KEY_CODE_J,75:n.KEY_CODE_K,76:n.KEY_CODE_L,77:n.KEY_CODE_M,78:n.KEY_CODE_N,79:n.KEY_CODE_O,80:n.KEY_CODE_P,81:n.KEY_CODE_Q,82:n.KEY_CODE_R,83:n.KEY_CODE_S,84:n.KEY_CODE_T,85:n.KEY_CODE_U,86:n.KEY_CODE_V,87:n.KEY_CODE_W,88:n.KEY_CODE_X,89:n.KEY_CODE_Y,90:n.KEY_CODE_Z,112:n.KEY_CODE_SUBTITLE,113:n.KEY_CODE_PLAY,114:n.KEY_CODE_PLAY_PAUSE,115:n.KEY_CODE_STOP,116:n.KEY_CODE_FAST_FWD,117:n.KEY_CODE_REWIND,166:n.KEY_CODE_BACK,402:n.KEY_CODE_PLAY_PAUSE,403:n.KEY_CODE_RED,404:n.KEY_CODE_GREEN,405:n.KEY_CODE_YELLOW,406:n.KEY_CODE_BLUE,412:n.KEY_CODE_REWIND,413:n.KEY_CODE_STOP,415:n.KEY_CODE_PLAY,417:n.KEY_CODE_FAST_FWD,424:n.KEY_CODE_REWIND,425:n.KEY_CODE_FAST_FW},samsung_tizen:{4:n.KEY_CODE_LEFT,5:n.KEY_CODE_RIGHT,6:n.KEY_CODE_3,7:n.KEY_CODE_VOLUME_UP,9:n.KEY_CODE_5,10:n.KEY_CODE_6,11:n.KEY_CODE_VOLUME_DOWN,12:n.KEY_CODE_7,13:n.KEY_CODE_ENTER,14:n.KEY_CODE_9,17:n.KEY_CODE_0,18:n.KEY_CODE_MENU,19:n.KEY_CODE_PAUSE,20:n.KEY_CODE_GREEN,21:n.KEY_CODE_YELLOW,22:n.KEY_CODE_BLUE,27:n.KEY_CODE_MUTE,31:n.KEY_CODE_INFO,37:n.KEY_CODE_LEFT,38:n.KEY_CODE_UP,39:n.KEY_CODE_RIGHT,40:n.KEY_CODE_DOWN,48:n.KEY_CODE_0,49:n.KEY_CODE_1,50:n.KEY_CODE_2,51:n.KEY_CODE_3,52:n.KEY_CODE_4,53:n.KEY_CODE_5,54:n.KEY_CODE_6,55:n.KEY_CODE_7,56:n.KEY_CODE_8,57:n.KEY_CODE_9,69:n.KEY_CODE_REWIND,70:n.KEY_CODE_STOP,71:n.KEY_CODE_PLAY,72:n.KEY_CODE_FAST_FWD,74:n.KEY_CODE_PAUSE,88:n.KEY_CODE_BACK,98:n.KEY_CODE_2,101:n.KEY_CODE_1,108:n.KEY_CODE_RED,112:n.KEY_CODE_SUBTITLE,113:n.KEY_CODE_PLAY,114:n.KEY_CODE_PLAY_PAUSE,115:n.KEY_CODE_STOP,116:n.KEY_CODE_FAST_FWD,117:n.KEY_CODE_REWIND,166:n.KEY_CODE_BACK,189:n.KEY_CODE_MINUS,402:n.KEY_CODE_PLAY_PAUSE,403:n.KEY_CODE_RED,404:n.KEY_CODE_GREEN,405:n.KEY_CODE_YELLOW,406:n.KEY_CODE_BLUE,412:n.KEY_CODE_REWIND,413:n.KEY_CODE_STOP,415:n.KEY_CODE_PLAY,416:n.KEY_CODE_RECORD,417:n.KEY_CODE_FAST_FWD,424:n.KEY_CODE_REWIND,425:n.KEY_CODE_FAST_FW,427:n.KEY_CODE_CHANNEL_UP,428:n.KEY_CODE_CHANNEL_DOWN,447:n.KEY_CODE_VOLUME_UP,448:n.KEY_CODE_VOLUME_DOWN,449:n.KEY_CODE_MUTE,457:n.KEY_CODE_INFO,458:n.KEY_CODE_GUIDE,473:n.KEY_CODE_FAST_FWD,10009:n.KEY_CODE_BACK,10072:n.KEY_CODE_SOURCE,10073:n.KEY_CODE_CHANNEL_LIST,10135:n.KEY_CODE_TOOLS,10140:n.KEY_CODE_PICTURE_SIZE,10146:n.KEY_CODE_E_MANUAL,10182:n.KEY_CODE_EXIT,10190:n.KEY_CODE_PREV_CHANNEL,10195:n.KEY_CODE_MTS,10199:n.KEY_CODE_3D,10200:n.KEY_CODE_TELE_TEXT,10221:n.KEY_CODE_SUBTITLE,10225:n.KEY_CODE_SEARCH,10228:n.KEY_CODE_SOCCER,10232:n.KEY_CODE_PREV,10233:n.KEY_CODE_NEXT,10252:n.KEY_CODE_PLAY_PAUSE,10253:n.KEY_CODE_EXTRA,29460:n.KEY_CODE_UP,29461:n.KEY_CODE_DOWN},samsung_orsay:{4:n.KEY_CODE_LEFT,5:n.KEY_CODE_RIGHT,6:n.KEY_CODE_3,7:n.KEY_CODE_VOLUME_UP,8:n.KEY_CODE_4,9:n.KEY_CODE_5,10:n.KEY_CODE_6,11:n.KEY_CODE_VOLUME_DOWN,12:n.KEY_CODE_7,13:n.KEY_CODE_8,14:n.KEY_CODE_9,17:n.KEY_CODE_0,20:n.KEY_CODE_GREEN,21:n.KEY_CODE_YELLOW,22:n.KEY_CODE_BLUE,27:n.KEY_CODE_MUTE,31:n.KEY_CODE_INFO,45:n.KEY_CODE_EXIT,48:n.KEY_CODE_0,49:n.KEY_CODE_1,50:n.KEY_CODE_2,51:n.KEY_CODE_3,52:n.KEY_CODE_4,53:n.KEY_CODE_5,54:n.KEY_CODE_6,55:n.KEY_CODE_7,56:n.KEY_CODE_8,57:n.KEY_CODE_9,65:n.KEY_CODE_CHANNEL_DOWN,68:n.KEY_CODE_CHANNEL_UP,69:n.KEY_CODE_REWIND,70:n.KEY_CODE_STOP,71:n.KEY_CODE_PLAY,72:n.KEY_CODE_FAST_FWD,74:n.KEY_CODE_PAUSE,75:n.KEY_CODE_TOOLS,88:n.KEY_CODE_BACK,98:n.KEY_CODE_2,101:n.KEY_CODE_1,108:n.KEY_CODE_RED,112:n.KEY_CODE_SUBTITLE,113:n.KEY_CODE_PLAY,114:n.KEY_CODE_PLAY_PAUSE,115:n.KEY_CODE_STOP,116:n.KEY_CODE_FAST_FWD,117:n.KEY_CODE_REWIND,166:n.KEY_CODE_BACK,192:n.KEY_CODE_RECORD,259:n.KEY_CODE_PREV_CHANNEL,402:n.KEY_CODE_PLAY_PAUSE,403:n.KEY_CODE_RED,404:n.KEY_CODE_GREEN,405:n.KEY_CODE_YELLOW,406:n.KEY_CODE_BLUE,412:n.KEY_CODE_REWIND,413:n.KEY_CODE_STOP,415:n.KEY_CODE_PLAY,417:n.KEY_CODE_FAST_FWD,473:n.KEY_CODE_FAST_FWD,29443:n.KEY_CODE_ENTER,29460:n.KEY_CODE_UP,29461:n.KEY_CODE_DOWN},lg_webos:{8:n.KEY_CODE_BACK,13:n.KEY_CODE_ENTER,19:n.KEY_CODE_PAUSE,37:n.KEY_CODE_LEFT,38:n.KEY_CODE_UP,39:n.KEY_CODE_RIGHT,40:n.KEY_CODE_DOWN,48:n.KEY_CODE_0,49:n.KEY_CODE_1,50:n.KEY_CODE_2,51:n.KEY_CODE_3,52:n.KEY_CODE_4,53:n.KEY_CODE_5,54:n.KEY_CODE_6,55:n.KEY_CODE_7,56:n.KEY_CODE_8,57:n.KEY_CODE_9,65:n.KEY_CODE_A,66:n.KEY_CODE_B,67:n.KEY_CODE_C,68:n.KEY_CODE_D,69:n.KEY_CODE_E,70:n.KEY_CODE_F,71:n.KEY_CODE_G,72:n.KEY_CODE_H,73:n.KEY_CODE_I,74:n.KEY_CODE_J,75:n.KEY_CODE_K,76:n.KEY_CODE_L,77:n.KEY_CODE_M,78:n.KEY_CODE_N,79:n.KEY_CODE_O,80:n.KEY_CODE_P,81:n.KEY_CODE_Q,82:n.KEY_CODE_R,83:n.KEY_CODE_S,84:n.KEY_CODE_T,85:n.KEY_CODE_U,86:n.KEY_CODE_V,87:n.KEY_CODE_W,88:n.KEY_CODE_X,89:n.KEY_CODE_Y,90:n.KEY_CODE_Z,112:n.KEY_CODE_SUBTITLE,113:n.KEY_CODE_PLAY,114:n.KEY_CODE_PLAY_PAUSE,115:n.KEY_CODE_STOP,116:n.KEY_CODE_FAST_FWD,117:n.KEY_CODE_REWIND,166:n.KEY_CODE_BACK,402:n.KEY_CODE_PLAY_PAUSE,403:n.KEY_CODE_RED,404:n.KEY_CODE_GREEN,405:n.KEY_CODE_YELLOW,406:n.KEY_CODE_BLUE,412:n.KEY_CODE_REWIND,413:n.KEY_CODE_STOP,415:n.KEY_CODE_PLAY,417:n.KEY_CODE_FAST_FWD,424:n.KEY_CODE_REWIND,425:n.KEY_CODE_FAST_FW,457:n.KEY_CODE_INFO,461:n.KEY_CODE_BACK},panasonic:{8:n.KEY_CODE_BACK,13:n.KEY_CODE_ENTER,19:n.KEY_CODE_PAUSE,37:n.KEY_CODE_LEFT,38:n.KEY_CODE_UP,39:n.KEY_CODE_RIGHT,40:n.KEY_CODE_DOWN,48:n.KEY_CODE_0,49:n.KEY_CODE_1,50:n.KEY_CODE_2,51:n.KEY_CODE_3,52:n.KEY_CODE_4,53:n.KEY_CODE_5,54:n.KEY_CODE_6,55:n.KEY_CODE_7,56:n.KEY_CODE_8,57:n.KEY_CODE_9,65:n.KEY_CODE_A,66:n.KEY_CODE_B,67:n.KEY_CODE_C,68:n.KEY_CODE_D,69:n.KEY_CODE_E,70:n.KEY_CODE_F,71:n.KEY_CODE_G,72:n.KEY_CODE_H,73:n.KEY_CODE_I,74:n.KEY_CODE_J,75:n.KEY_CODE_K,76:n.KEY_CODE_L,77:n.KEY_CODE_M,78:n.KEY_CODE_N,79:n.KEY_CODE_O,80:n.KEY_CODE_P,81:n.KEY_CODE_Q,82:n.KEY_CODE_R,83:n.KEY_CODE_S,84:n.KEY_CODE_T,85:n.KEY_CODE_U,86:n.KEY_CODE_V,87:n.KEY_CODE_W,88:n.KEY_CODE_X,89:n.KEY_CODE_Y,90:n.KEY_CODE_Z,112:n.KEY_CODE_SUBTITLE,113:n.KEY_CODE_PLAY,114:n.KEY_CODE_PLAY_PAUSE,115:n.KEY_CODE_STOP,116:n.KEY_CODE_FAST_FWD,117:n.KEY_CODE_REWIND,166:n.KEY_CODE_BACK,402:n.KEY_CODE_PLAY_PAUSE,403:n.KEY_CODE_RED,404:n.KEY_CODE_GREEN,405:n.KEY_CODE_YELLOW,406:n.KEY_CODE_BLUE,412:n.KEY_CODE_REWIND,413:n.KEY_CODE_STOP,415:n.KEY_CODE_PLAY,417:n.KEY_CODE_FAST_FWD,424:n.KEY_CODE_REWIND,425:n.KEY_CODE_FAST_FW}};_.Events.register("CORE_SMART_TV_KEY_PRESSED"),_.Events.register("CONTAINER_SMART_TV_KEY_PRESSED");var r=function(E){!function(E,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),_&&D(E,_)}(A,E);var Y,n,r,i=e(A);function A(E){var O;return function(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}(this,A),(O=i.call(this,E)).start=O.start.bind(K(O)),O.stop=O.stop.bind(K(O)),O.enableLog=O.enableLog.bind(K(O)),O.disableLog=O.disableLog.bind(K(O)),O._triggerKeyDownEvents=O._triggerKeyDownEvents.bind(K(O)),O._onPressedKey=O._onPressedKey.bind(K(O)),O._deviceName=O.options.tvsKeyMapping&&O.options.tvsKeyMapping.deviceToMap,O._deviceName?O.start(O._deviceName):_.Log.warn(O.name,"tvsKeyMapping.deviceToMap was not configured. Call the start method with a valid name to activate the plugin."),O}return Y=A,(n=[{key:"name",get:function(){return"tvs_key_mapping"}},{key:"supportedVersion",get:function(){return{min:_.version}}},{key:"start",value:function(E){return E?o[E]?(this._deviceName=E,void document.addEventListener("keydown",this._triggerKeyDownEvents)):_.Log.warn(this.name,"The device name is not valid. The plugin will not fire events as expected."):_.Log.warn(this.name,"No one device name was received. The plugin will not fire events as expected.")}},{key:"_triggerKeyDownEvents",value:function(E){var O=this._getKeyNameFromEvent(E);if(void 0===O)return _.Log.warn(this.name,"The key code is not mapped. The plugin will not fire events as expected.");this.core.trigger(_.Events.Custom.CORE_SMART_TV_KEY_PRESSED,O,{keyName:O,keyEvent:E}),this.core.activeContainer&&this.core.activeContainer.trigger(_.Events.Custom.CONTAINER_SMART_TV_KEY_PRESSED,O,{keyName:O,keyEvent:E})}},{key:"_getKeyNameFromEvent",value:function(E){var _=o[this._deviceName];return _&&_[E.keyCode]}},{key:"stop",value:function(){document.removeEventListener("keydown",this._triggerKeyDownEvents)}},{key:"enableLog",value:function(){if(!this._deviceName)return _.Log.warn(this.name,"No one device name was configured. Logging is not enabled.");document.addEventListener("keydown",this._onPressedKey)}},{key:"_onPressedKey",value:function(E){_.Log.info(this.name,"The key pressed has the code ".concat(E.keyCode," and is mapped to the ").concat(this._getKeyNameFromEvent(E)," value."))}},{key:"disableLog",value:function(){document.removeEventListener("keydown",this._onPressedKey)}},{key:"destroy",value:function(){this.stop(),this.disableLog(),t(C(A.prototype),"destroy",this).call(this)}}])&&O(Y.prototype,n),r&&O(Y,r),A}(_.CorePlugin);E.KeyNames=n,E.Watcher=r,Object.defineProperty(E,"__esModule",{value:!0})}));